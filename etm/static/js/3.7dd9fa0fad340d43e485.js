webpackJsonp([3],{"1kS7":function(t,e){e.f=Object.getOwnPropertySymbols},NpIQ:function(t,e){e.f={}.propertyIsEnumerable},R4wc:function(t,e,a){var n=a("kM2E");n(n.S+n.F,"Object",{assign:a("To3L")})},To3L:function(t,e,a){"use strict";var n=a("lktj"),s=a("1kS7"),c=a("NpIQ"),o=a("sB3e"),r=a("MU5D"),i=Object.assign;t.exports=!i||a("S82l")(function(){var t={},e={},a=Symbol(),n="abcdefghijklmnopqrst";return t[a]=7,n.split("").forEach(function(t){e[t]=t}),7!=i({},t)[a]||Object.keys(i({},e)).join("")!=n})?function(t,e){for(var a=o(t),i=arguments.length,_=1,v=s.f,l=c.f;i>_;)for(var u,d=r(arguments[_++]),f=v?n(d).concat(v(d)):n(d),h=f.length,p=0;h>p;)l.call(d,u=f[p++])&&(a[u]=d[u]);return a}:i},V3tA:function(t,e,a){a("R4wc"),t.exports=a("FeBl").Object.assign},oVYy:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("woOf"),s=a.n(n),c=a("LHK4"),o=a("av1y"),r=a("OUwZ"),i=a("KvKp"),_={components:{Page:c.a,NoData:o.a},created:function(){this.address=Object(r.a)(localStorage.getItem("etmsecret")||sessionStorage.getItem("etmsecret")),this._getAccounts(this.address),this._getTransaction(0)},activated:function(){this.$store.commit("changeTitle","首页")},data:function(){return{PageTotal:1,accountInfo:{},tableData:[],address:"",ONE_PAGE_NUM:10}},methods:{_getAccounts:function(t){var e=this;this.$http.get("http://118.24.135.98:4096/api/accounts",{params:{address:t}}).then(function(t){t.data.success&&(e.accountInfo=s()({},t.data.account,t.data.latestBlock,t.data.version))})},_getTransaction:function(t){var e=this;this.$http.get("http://118.24.135.98:4096/api/transactions",{params:{senderId:this.address,orderBy:"t_timestamp:desc",offset:this.ONE_PAGE_NUM*t,limit:this.ONE_PAGE_NUM}}).then(function(t){t.data.success&&(e.tableData=t.data.transactions,e.PageTotal=Math.ceil(t.data.count/e.ONE_PAGE_NUM))}).catch(function(t){console.log(t)})},totalAmount:function(){if(this.tableData.length)return this.tableData.map(function(t){return t.amount}).reduce(function(t,e){return t+e})},convertTime:function(t){var e=entanmoJs.transaction.getTime(t);return Object(i.c)(e)},mapType:function(t){switch(t){case 0:return"普通转账";case 1:return"设置二级密码";case 2:return"注册受托人";case 3:return"投票";case 4:return"多重签名";case 5:return"DAPP";case 6:return"IN_TRANSFER";case 7:return"OUT_TRANSFER"}},renderDiff:function(t){this._getTransaction(t)}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w"},[a("div",{staticClass:"info"},[a("ul",{staticClass:"flex"},[a("li",[a("p",[t._v("我的余额")]),t._v(" "),a("p",[t._v(t._s(t.accountInfo.balance)+" Mole")])]),t._v(" "),a("li",[a("p",[t._v("最后出块高度")]),t._v(" "),a("p",[t._v(t._s(t.accountInfo.height))])]),t._v(" "),a("li",[a("p",[t._v("版本信息")]),t._v(" "),a("p",[t._v("V"+t._s(t.accountInfo.version))])])])]),t._v(" "),a("div",{staticClass:"transaction"},[a("p",[t._v("交易记录")]),t._v(" "),a("div",{staticClass:"event"},[a("table",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],attrs:{width:"100%",border:"0",cellspacing:"0",cellpresumeing:"0"}},[t._m(0),t._v(" "),a("tbody",{staticClass:"table_tb"},[t._l(t.tableData,function(e,n){return a("tr",{key:n},[a("td",{staticStyle:{color:"#399dff"}},[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(t.mapType(e.type)))]),t._v(" "),a("td",[t._v(t._s(e.senderId))]),t._v(" "),a("td",[t._v(t._s(e.recipientId))]),t._v(" "),a("td",[t._v(t._s(t.convertTime(e.timestamp)))]),t._v(" "),a("td",[t._v(t._s(e.message))]),t._v(" "),a("td",[t._v(t._s(e.amount))])])}),t._v(" "),a("tr",[a("td",[t._v("总计")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v(t._s(t.totalAmount()))])])],2)]),t._v(" "),a("no-data",{directives:[{name:"show",rawName:"v-show",value:!t.tableData.length,expression:"!tableData.length"}]})],1),t._v(" "),a("page",{directives:[{name:"show",rawName:"v-show",value:t.PageTotal>1,expression:"PageTotal > 1"}],attrs:{PageTotal:t.PageTotal},on:{renderDiff:t.renderDiff}})],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"table_th"},[a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("发送者")]),t._v(" "),a("th",[t._v("接收者")]),t._v(" "),a("th",[t._v("日期")]),t._v(" "),a("th",[t._v("备注")]),t._v(" "),a("th",[t._v("金额（Mole）")])])}]};var l=a("VU/8")(_,v,!1,function(t){a("rAvq")},"data-v-09cbd764",null);e.default=l.exports},rAvq:function(t,e){},woOf:function(t,e,a){t.exports={default:a("V3tA"),__esModule:!0}}});
//# sourceMappingURL=3.7dd9fa0fad340d43e485.js.map