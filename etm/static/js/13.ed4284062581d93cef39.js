webpackJsonp([13],{E2MW:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("LHK4"),i=e("av1y"),o=e("KvKp"),l=e("4lny"),c={components:{Page:s.a,NoData:i.a},data:function(){return{PageTotal:1,showPop:!1,tableData:[],ONE_PAGE_NUM:10,blockDetail:{},searchBlock:"",height:0,blockHeight:0}},created:function(){this._getBlocks(0)},updated:function(){var t=this;Bus.$on("hideQrcode",function(a){t.showPop=!1})},methods:{search:function(){var t=this;this.$http.get(l+"/api/blocks/get",{params:{height:this.searchBlock}}).then(function(a){t.tableData=[],t.tableData.push(a.data.block),t.PageTotal=1}).catch(function(t){console.log(t)})},_getBlocks:function(t){var a=this;this.$http.get(l+"/api/blocks",{params:{limit:this.ONE_PAGE_NUM,offset:this.ONE_PAGE_NUM*t,orderBy:"height:desc"}}).then(function(t){a.tableData=t.data.blocks,a.PageTotal=Math.ceil(t.data.count/a.ONE_PAGE_NUM)}).catch(function(t){console.log(t)})},showDetail:function(t){var a=this;this.height=t,this.showPop=!0,Bus.$emit("showMask",!0),this.$http.get(l+"/api/blocks/get",{params:{height:t}}).then(function(t){a.blockDetail=t.data.block}).catch(function(t){console.log(t)})},hidePopout:function(){this.showPop=!1,Bus.$emit("showMask",!1)},renderDiff:function(t){this._getBlocks(t)},convertTime:function(t){var a=entanmoJs.transaction.getTime(t);return Object(o.c)(a)},prevBlock:function(){this.height-=1,this.showDetail(this.height)},nextBlock:function(){var t=this;this.$http.get(l+"/api/blocks/getHeight").then(function(a){if(a.data.success){if(t.blockHeight=a.data.height,t.height===t.blockHeight)return;t.height+=1,t.showDetail(t.height)}}).catch(function(t){console.log(t)})}},watch:{searchBlock:function(t,a){""===t&&this._getBlocks(0)}}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"w"},[e("div",{staticClass:"h"},[e("div",{staticClass:"s"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchBlock,expression:"searchBlock"}],attrs:{type:"text",placeholder:"搜索高度"},domProps:{value:t.searchBlock},on:{input:function(a){a.target.composing||(t.searchBlock=a.target.value)}}}),t._v(" "),e("a",{attrs:{href:"javascript:;"},on:{click:t.search}},[e("i",{staticClass:"icon icon-search"})])])]),t._v(" "),e("div",{staticClass:"event"},[e("table",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],attrs:{width:"100%",border:"0",cellspacing:"0",cellpresumeing:"0"}},[t._m(0),t._v(" "),e("tbody",{staticClass:"table_tb"},t._l(t.tableData,function(a,s){return e("tr",{key:s,on:{click:function(e){t.showDetail(a.height)}}},[e("td",{staticStyle:{color:"#399dff"}},[t._v(t._s(a.height))]),t._v(" "),e("td",[t._v(t._s(t.convertTime(a.timestamp)))]),t._v(" "),e("td",{staticStyle:{color:"#399dff"}},[t._v(t._s(a.id))]),t._v(" "),e("td",{staticStyle:{color:"#399dff"}},[t._v(t._s(a.generatorId))]),t._v(" "),e("td",[t._v(t._s(a.numberOfTransactions))]),t._v(" "),e("td",[t._v(t._s(a.totalAmount))]),t._v(" "),e("td",[t._v(t._s(a.totalFee))]),t._v(" "),e("td",[t._v(t._s(a.reward))])])}))]),t._v(" "),e("no-data",{directives:[{name:"show",rawName:"v-show",value:!t.tableData.length,expression:"!tableData.length"}]})],1),t._v(" "),e("page",{directives:[{name:"show",rawName:"v-show",value:t.PageTotal>1,expression:"PageTotal > 1"}],attrs:{PageTotal:t.PageTotal},on:{renderDiff:t.renderDiff}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showPop,expression:"showPop"}],staticClass:"popout"},[e("div",{staticClass:"close"},[e("span",{on:{click:t.hidePopout}},[t._v("×")])]),t._v(" "),e("p",{staticClass:"title"},[t._v("区块详情")]),t._v(" "),e("div",{staticClass:"input"},[e("label",[t._v("ID：")]),t._v(" "),e("span",[t._v(t._s(t.blockDetail.id))])]),t._v(" "),e("div",{staticClass:"input"},[e("label",[t._v("版本：")]),t._v(" "),e("span",[t._v("V"+t._s(t.blockDetail.version))])]),t._v(" "),e("div",{staticClass:"input"},[e("label",[t._v("时间：")]),t._v(" "),e("span",[t._v(t._s(t.blockDetail.timestamp))])]),t._v(" "),e("div",{staticClass:"input"},[e("label",[t._v("高度：")]),t._v(" "),e("span",[t._v(t._s(t.blockDetail.height))])]),t._v(" "),e("div",{staticClass:"input"},[e("label",[t._v("上一块：")]),t._v(" "),e("span",[t._v(t._s(t.blockDetail.previousBlock))])]),t._v(" "),e("div",{staticClass:"input"},[e("label",[t._v("交易数：")]),t._v(" "),e("span",[t._v(t._s(t.blockDetail.numberOfTransactions))])]),t._v(" "),e("div",{staticClass:"input"},[e("label",[t._v("交易总额：")]),t._v(" "),e("span",[t._v(t._s(t.blockDetail.totalAmount))])]),t._v(" "),e("div",{staticClass:"input"},[e("label",[t._v("奖励：")]),t._v(" "),e("span",[t._v(t._s(t.blockDetail.reward))])]),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"input"},[e("label",[t._v("生产者：")]),t._v(" "),e("span",[t._v(t._s(t.blockDetail.generatorId))])]),t._v(" "),e("div",{staticClass:"input"},[e("label",[t._v("生产者公钥：")]),t._v(" "),e("span",[t._v(t._s(t.blockDetail.generatorPublicKey))])]),t._v(" "),e("p",{staticClass:"selectBlock"},[e("a",{attrs:{href:"javascript:;"},on:{click:t.prevBlock}},[t._v("上一块")]),t._v(" "),e("a",{attrs:{href:"javascript:;"},on:{click:t.nextBlock}},[t._v("下一块")])])])],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"table_th"},[e("th",[t._v("高度")]),t._v(" "),e("th",[t._v("日期")]),t._v(" "),e("th",[t._v("ID")]),t._v(" "),e("th",[t._v("生产者")]),t._v(" "),e("th",[t._v("交易")]),t._v(" "),e("th",[t._v("金额")]),t._v(" "),e("th",[t._v("费用")]),t._v(" "),e("th",[t._v("奖励")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"input"},[a("label",[this._v("摘要：")]),this._v(" "),a("span")])}]};var v=e("VU/8")(c,n,!1,function(t){e("jzwS")},"data-v-82f8f2cc",null);a.default=v.exports},jzwS:function(t,a){}});
//# sourceMappingURL=13.ed4284062581d93cef39.js.map