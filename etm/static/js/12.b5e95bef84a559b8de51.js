webpackJsonp([12],{"46GV":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("//Fk"),r=s.n(n),i=s("OUwZ"),a={components:{SSecret:s("DfFo").a},data:function(){return{secret:"",address:"",recipientId:"",amount:null,submitTransfer:!1,transferType:"",secondSecret:"",showPop:!1}},activated:function(){this.$store.commit("changeTitle","转账")},created:function(){this.secret=localStorage.getItem("etmsecret")||sessionStorage.getItem("etmsecret"),this.address=Object(i.a)(this.secret)},computed:{yesOrNo:function(){return"成功"===this.transferType?"success-tip":"fail-tip"}},methods:{transfer:function(){this.$store.state.needsSecondSecret?this.showPop=!0:this._transfer()},_transfer:function(){var e=this;this.checkSecondSecret(),this.$http.put("http://118.24.135.98:4096/api/transactions",{secret:this.secret,amount:Number(this.amount),recipientId:this.recipientId,secondSecret:this.secondSecret}).then(function(t){t.data.success?(e.transferType="成功",e.submitTransfer=!0,setTimeout(function(){e.submitTransfer=!1},2e3)):(e.transferType="失败",e.submitTransfer=!0,setTimeout(function(){e.submitTransfer=!1},2e3))}).catch(function(e){console.log(e)})},hidePop:function(e){this.showPop=e},inputSSecret:function(e){this.secondSecret=e,this._transfer()},checkSecondSecret:function(){this.$store.needsSecondSecret||this.$http.interceptors.request.use(function(e){return delete e.data.secondSecret,e},function(e){return r.a.reject(error)})}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"user_content"},[s("div",[s("div",{staticClass:"Transfer_form"},[s("div",[s("label",[e._v("发送者：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],attrs:{type:"text"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})]),e._v(" "),s("div",[s("label",[e._v("接收者：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.recipientId,expression:"recipientId"}],attrs:{type:"text"},domProps:{value:e.recipientId},on:{input:function(t){t.target.composing||(e.recipientId=t.target.value)}}})]),e._v(" "),s("div",[s("label",[e._v("金额：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],attrs:{type:"number"},domProps:{value:e.amount},on:{input:function(t){t.target.composing||(e.amount=t.target.value)}}})]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),s("p",[e._v("请确保您正在发送Mole给正确的地址，本操作无法撤消")]),e._v(" "),s("button",{attrs:{type:"button"},on:{click:e.transfer}},[e._v("发送")])])])]),e._v(" "),s("s-secret",{directives:[{name:"show",rawName:"v-show",value:e.showPop,expression:"showPop"}],on:{hidePop:e.hidePop,inputSSecret:e.inputSSecret}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.submitTransfer,expression:"submitTransfer"}],staticClass:"tip",class:e.yesOrNo},[e._v("\n\t\t\t交易"+e._s(e.transferType)+"！\n\t\t")])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("label",[this._v("费用：")]),t("input",{staticClass:"moeny",attrs:{type:"text"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("label",[this._v("备注：")]),t("input",{attrs:{type:"text"}})])}]};var c=s("VU/8")(a,o,!1,function(e){s("MFir")},"data-v-94b3d7ca",null);t.default=c.exports},MFir:function(e,t){}});
//# sourceMappingURL=12.b5e95bef84a559b8de51.js.map